<p><span style="font-size: 24px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size: 18px;">在查询错误抑制符@的运行原理的时候，看到鸟哥的一篇博文，叫《一些PHP Coding Tips》，觉得对初学者养成习惯非常有用，所以将其整理并转载，以供之后查阅。</span></span></p><p><span style="font-size: 24px;"><span style="font-size: 18px;"><br/></span></span></p><h3><span style="color: rgb(192, 0, 0);">使用NULL === 来代替is_null</span></h3><p style="white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;is_null和 NULL === 完全是一样的效果, 但是却节省了一次函数调用.</p><p style="white-space: normal;"><br/></p><h3><span style="color: rgb(192, 0, 0);">使用===尽量不用==</span></h3><p style="white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;PHP有俩组相等比较运算符===、!==和==、!=， ==、!=会有隐式类型转换，而===、!==会严格比较俩个是否类型相同并且值相等。我们应该尽量使用===而不是==, 除了因为转换规则比较难记以外, 还有一点就是如果使用===, 对于日后的维护或者阅读你代码的人也会很舒服:”在这个时刻, 这一行语句, 这个变量就是这个类型的!”。</p><p style="white-space: normal;"><br/></p><h3><span style="color: rgb(192, 0, 0);">变量先定义后使用</span></h3><p style="white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;使用一个未定义的变量, 比使用一个定义好的变量要慢8倍以上!</p><p style="white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;可以相像, PHP引擎会首先按照正常的逻辑来获取这个变量, 然而这个变量不存在, 所以PHP引擎需要抛出一个NOTICE, 并且进入一段使用未定义变量时应该走的逻辑, 然后返回一个新的变量.</p><p style="white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;另外, 阅读代码的角度讲, 当你使用一个未定义的变量时, 会让阅读你代码的人困惑:”这个变量在那里初始化的, 和之前的代码有关系么? 和include进来的文件有关系么?”</p><p style="white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;最后, 从规范编程的角度来讲, 你也需要这样做.</p><p style="white-space: normal;"><br/></p><h3><span style="color: rgb(192, 0, 0);">不用第三变量交换俩个变量的值</span></h3><p style="white-space: normal;">&nbsp; &nbsp; 可以用以下代码：</p><pre class="brush:php;toolbar:false">list($a,&nbsp;$b)&nbsp;=&nbsp;array($b,&nbsp;$a);</pre><p style="white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;但其实还是有匿名临时变量的产生, 对于整数来说, 采用互逆的运算来做, 还是比较靠谱</p><pre class="brush:php;toolbar:false">$a&nbsp;=&nbsp;$a&nbsp;+&nbsp;$b;
$b&nbsp;=&nbsp;$a&nbsp;-&nbsp;$b;
$a&nbsp;=&nbsp;$a&nbsp;-&nbsp;$b;</pre><p style="white-space: normal;"><br/></p><h3><span style="color: rgb(192, 0, 0);">尽量少用@错误抑制符<br/></span></h3><p style="white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;我们知道,在PHP中,可以通过错误抑制符来静默错误提示, 那么它是通过什么方式呢?<br/>&nbsp;&nbsp;&nbsp;&nbsp;从语法分析的过程中发现，它会在使用@语句的前后插入俩条Opline(操作), 这俩个操作分别做：</p><p style="white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1. 保存当前的error_reporting值, 并设置error_reporting(0); //关闭错误输出</p><p style="white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2. 恢复之前保存的error_reporting值.</p><pre class="brush:php;toolbar:false">@echo&nbsp;$a;&nbsp;//这1行代码就相当于以下3行

$report&nbsp;=&nbsp;error_reporting(0);
echo&nbsp;$a;
error_reporting($report);</pre><p style="white-space: normal;"><br/></p><h3><span style="color: rgb(192, 0, 0);">使用$_SERVER[&#39;REQUEST_TIME&#39;]代替time()</span></h3><p style="white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;time()会引来一次函数调用, 而如果对时间的精确值要求不高, 可以使用$_SERVER[&#39;REQUEST_TIME&#39;]代替, 快很多.</p><p style="white-space: normal;"><br/></p><h3 style="white-space: normal;"><span style="color: rgb(192, 0, 0);">避免在for判断条件中做运算</span></h3><pre class="brush:php;toolbar:false">//如下的代码:
for&nbsp;($i&nbsp;=&nbsp;0;&nbsp;$i&nbsp;&lt;&nbsp;strlen($str);&nbsp;$i++)&nbsp;{&nbsp;}

//会导致每次循环都要调用strlen函数,&nbsp;应改为
for&nbsp;($i&nbsp;=&nbsp;0,&nbsp;$j&nbsp;=&nbsp;strlen($str);&nbsp;$i&nbsp;&lt;&nbsp;$j;&nbsp;$i++)&nbsp;{&nbsp;}</pre><p style="white-space: normal;"><br/></p><h3 style="white-space: normal;"><span style="color: rgb(192, 0, 0);">尽量避免使用正则</span></h3><p style="white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;正则耗时, 尽量避免！而采用直接的字符串处理函数代替，记住：能用字符串函数搞定的，一定不要用正则！</p><p style="white-space: normal;"><br/></p><h3 style="white-space: normal;"><span style="color: rgb(192, 0, 0);">将双引号和heredoc中的变量用花括号{}括起来</span></h3><p style="white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;如下的代码:</p><pre class="brush:php;toolbar:false">echo&nbsp;&quot;$name[2]&quot;;</pre><p style="white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;PHP不知道程序员的意图是$name . &quot;[2]&quot;还是$name[2],所以建议, 都加上大括号:</p><pre class="brush:php;toolbar:false">echo&nbsp;&quot;{$name}[2]&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//或者echo&nbsp;&quot;${name}[2]&quot;;</pre><p style="white-space: normal;"><br/></p><h3 style="white-space: normal;"><span style="color: rgb(192, 0, 0);">用FALSE表示错误, 用NULL表示不存在.</span></h3><p style="white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;对于操作类的函数, 失败返回FALSE, 表示”操作失败了”, 而对于查询类的函数, 如果找不到想要的值, 则应该返回NULL, 表示”找不到”.</p><p><br/></p>