<p>很早以前买了阿里云的服务器，各种查资料搭好了环境，之后一直使用。但最近有某种需求，另外买了台服务器，又要搭建环境，结果又是各种查。所谓吃一堑长一智，这次写了个文档总结了一下，以备后患。</p><p><br/></p><p>文档是用Markdown写的，排版什么的我就不想调了，将就着看吧！</p><p><br/></p><p><span style="color: #b22222; "># 在阿里云ECS服务器上的centos 7.2下安装LAMP环境</span><br/><br/><span style="color: #b22222; ">## 准备工作</span><br/><span style="color: #808080; ">&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;</span>创建我存放源码包的文件夹&nbsp;<br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mkdir -p /projects/lamp</span><br/><span style="color: #808080; ">&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;</span>安装gcc和gcc-c++<br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yum install -y gcc gcc-c++</span><br/><span style="color: #808080; ">&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;</span>安装vim编辑器<br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yum install -y vim</span><br/><br/><span style="color: #b22222; ">## 安装Apache</span><br/><span style="color: #b22222; ">### 1、安装apr</span><br/><span style="color: #808080; ">&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;</span>切换到源码目录<br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd /projects/lamp</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #808080; ">&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;</span>下载apr包<br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wget http://apache.fayea.com/apr/apr-1.5.2.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #808080; ">&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;</span>安装apr包需要的扩展<br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yum install -y autoconf libtool</span><br/><br/><span style="color: #808080; ">&nbsp;&nbsp;&nbsp;&nbsp;4.&nbsp;</span>解压、配置、编译、安装<br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tar -xzvf apr-1.5.2.tar.gz&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd apr-1.5.2&nbsp;&nbsp;</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./buildconf&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./configure --prefix=/usr/local/apr</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make install</span><br/><br/>问题：如果./configure遇到‘executing libtool commands rm: cannot remove &#39;libtoolT&#39;: No such file ordirectory’<br/><br/>解决：<br/><br/>打开configure文件<br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;vim configure&nbsp;</span><br/><br/>找到$RM &quot;$cfgfile&quot;所在行，然后添加#号注释掉此行保存并退出<br/><br/><br/><span style="color: #b22222; ">### 2、安装apr-util</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;1、切换到源码目录</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd /projects/lamp/</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;2、下载apr-until包</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wget http://apache.fayea.com/apr/apr-util-1.5.4.tar.gz</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;3、安装apr包需要的扩展</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yum install expat-devel</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;4、解压、配置、编译、安装</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tar -xzvfapr-util-1.5.4.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd apr-util-1.5.4</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./configure --prefix=/usr/local/apr-util --with-apr=/usr/local/apr</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make install</span><br/><br/>问题：&nbsp;&nbsp;<br/>make的时候报如下错误：<br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;xml/apr_xml.c:35:19: fatal error: expat.h: No such file or directory&nbsp;&nbsp;</span><br/><br/>解决：&nbsp;&nbsp;<br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;yum install expat-devel</span><br/><br/><br/><br/><br/><span style="color: #b22222; ">### 3、安装pcre包</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;1、切换到源码目录</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd /projects/lamp/</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;2、下载pcre包</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wget http://jaist.dl.sourceforge.net/project/pcre/pcre/8.39/pcre-8.39.zip</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;3、安装解压工具unzip</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yum install -y unzip</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;4、解压、配置、编译、安装</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unzip pcre-8.39.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd pcre-8.39</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./configure --prefix=/usr/local/pcre</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make install</span><br/><br/><br/><br/><br/><span style="color: #b22222; ">### 4、安装libxml</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;1、切换到源码目录</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd /projects/lamp/</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;2、下载libxml</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;自己百度去</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;3、需要的扩展</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yum -y install python-devel&nbsp;&nbsp;&nbsp;&nbsp;//必须安装</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yum&nbsp;&nbsp;install&nbsp;&nbsp;-y&nbsp;&nbsp;libxml2-devel //选装</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;4、解压、配置、编译、安装</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tar -xzvf libxml2-2.9.1.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd libxml2-2.9.1</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./configure --prefix=/usr/local/libxml2/</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make install</span><br/><br/><br/><br/><br/><span style="color: #b22222; ">### 5、安装apache</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;1、切换到源码目录</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd /projects/lamp/</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;2、下载apache</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wget http://mirrors.cnnic.cn/apache//httpd/httpd-2.4.23.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;3、解压、配置、编译、安装</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tar -xzvfhttpd-2.4.23.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd httpd-2.4.23</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./configure --prefix=/usr/local/apache2 --with-apr=/usr/local/apr --with-apr-util=/usr/local/apr-util/bin/apu-1-config --with-pcre=/usr/local/pcre --enable-so --enable-rewrite --enable-proxy --enable-deflate</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make install</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;4、配置apache</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;切换到配置文件目录</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd /usr/local/apache2/conf</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim打开配置文件</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim httpd.conf</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;去掉ServerName前的注释，修改为localhost:80</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;5、启动apache服务</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/apache2/bin/apachectl start</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;6、查看apache是否安装成功</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curl localhost</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;7、将Apache的命令加入环境变量</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim /etc/profile</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;追加：</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;export PATH=&quot;/usr/local/apache2/bin:$PATH&quot;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;提示：如返回It works页面，则安装成功</span><br/><br/><br/><br/><br/><span style="color: #b22222; ">## 安装MySQL</span><br/><span style="color: #b22222; ">### 准备工作</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;提示：因为centos7.2默认安装了mariadb-libs，所以先要卸载掉</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;查看是否安装mariadb</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rpm -qa | grep mariadb</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;卸载mariadb(注意检查依赖，判断是否可以强制删除)</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rpm -e --nodeps mariadb-libs-5.5.44-2.el7.centos.x86_64</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;添加用户组mysql ，将mysql用户默认组设置为mysql用户组</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;groupadd mysql</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;useradd -g mysql mysql</span><br/><br/><br/><br/><span style="color: #b22222; ">### 1、安装ncurses</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;1、切换到源码目录</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd /projects/lamp</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;2、解压、配置、编译、安装</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tar -zxvf ncurses-5.9.tar.gz</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./configure --with-shared --without-debug --without-ada --enable-overwrite</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make install</span><br/><br/><br/><br/><span style="color: #b22222; ">### 2、安装MySQL</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;1、切换到源码目录</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd /projects/lamp</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;2、下载mysql</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;自己百度去</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;3、需要的扩展</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yum -y install cmake</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yum -y install bison</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;4、解压、配置、编译、安装</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tar -zxvf mysql-5.5.48.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd mysql-5.5.48</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_UNIX_ADDR=/tmp/mysql.sock -DEXTRA_CHARSETS=all -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DWITH_MYISAM_STORAGE_ENGINE=1 -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_MEMORY_STORAGE_ENGINE=1 -DWITH_READLINE=1 -DENABLED_LOCAL_INFILE=1 -DMYSQL_USER=mysql -DMYSQL_TCP_PORT=3306</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make install</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#如果报错，清除缓存，请使用以下命令</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make clean&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rm CMakeCache.txt</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;5、后续工作</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#修改mysql目录权限</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd /usr/local/mysql/</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chown -R mysql .</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chgrp -R mysql .</span><br/><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#创建数据库授权表，初始化数据库</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/mysql/scripts/mysql_install_db --user=mysql</span><br/><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#修改mysql目录权限</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chown -R root .</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chown -R mysql data</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#复制mysql配置文件</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cp support-files/my-medium.cnf /etc/my.cnf</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#二次授权</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/mysql/scripts/mysql_install_db --user=mysql</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#启动MySQL</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.用原本源代码的方式去使用和启动mysql</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/mysql/bin/mysqld_safe --user=mysql &amp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.重启以后还要生效:</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim /etc/rc.local</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#添加以下代码</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/mysql/bin/mysqld_safe --user=mysql &amp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.设定mysql密码</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/mysql/bin/mysqladmin -uroot password 123456</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;清空历史命令&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;history&nbsp;&nbsp;-c</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 给mysql用户root加密码123</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 注意密码不能写成 “123”&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.登录mysql</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/mysql/bin/mysql -u root -p&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mysql&gt;show databases;</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;6、使用Navicat连接mysql数据库</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;连接属性里面还是正常写：</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;主机名：&nbsp;&nbsp;&nbsp;&nbsp;localhost</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;端口:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3306</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;用户名:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;密码：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;123456</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#关键是在ssh选项卡里面：</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;主机名： 阿里云ecs服务器的外网IP</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;端口：&nbsp;&nbsp;&nbsp;22</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;用户名： root</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;密码：&nbsp;&nbsp;&nbsp;登录服务器时用的密码</span><br/><br/><br/><br/><span style="color: #b22222; ">#安装PHP7</span><br/><br/><br/><span style="color: #b22222; ">### 1、准备工作</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;安装可能用到的依赖包</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yum -y install &quot;libtool*&quot;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yum -y install libxml2 libxml2-devel openssl openssl-devel curl-devel libjpeg-devel libpng-devel freetype-devel libmcrypt-devel</span><br/><br/><span style="color: #b22222; ">### 2、安装jpegsrc.v9b.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;1、切换到源码目录</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd /projects/lamp</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;2、下载jpegsrc.v9b.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;自己百度去</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;3、解压、配置、编译、安装</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tar -zxvf jpegsrc.v9b.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd jpeg-9b</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./configure --prefix=/usr/local/jpeg9/ --enable-shared --enable-static</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make &amp;&amp; make install</span><br/><br/><span style="color: #b22222; ">### 3、安装libpng-1.6.30</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;1、切换到源码目录</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd /projects/lamp</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;2、下载libpng-1.6.30.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;自己百度去</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;3、解压、配置、编译、安装</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tar -zxvf libpng-1.6.30.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd libpng-1.6.30</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./configure --prefix=/usr/local/libpng</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make &amp;&amp; make install</span><br/><br/><span style="color: #b22222; ">### 4、安装libmcrypt-2.5.8</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;1、切换到源码目录</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd /projects/lamp</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;2、下载libmcrypt-2.5.8.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;自己百度去</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;3、解压、配置、编译、安装</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tar -zxvf libmcrypt-2.5.8.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd libmcrypt-2.5.8</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./configure --prefix=/usr/local/libmcrypt/</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make &amp;&amp; make install</span><br/><br/><br/><span style="color: #b22222; ">### 5、安装PHP7</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;1、切换到源码目录</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd /projects/lamp</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;2、下载php-7.0.7.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;自己百度去</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;3、解压、配置、编译、安装</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tar -zxvf php-7.0.7.tar.gz</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd php-7.0.7</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./configure --prefix=/usr/local/php/ --with-config-file-path=/usr/local/php/etc/ --with-apxs2=/usr/local/apache2/bin/apxs --with-mysql=mysqlnd --with-libxml-dir=/usr/local/libxml2/ --with-jpeg-dir=/usr/local/jpeg9/ --with-png-dir=/usr/local/libpng/ --with-freetype-dir=/usr/local/freetype/ --with-gd --with-mcrypt=/usr/local/libmcrypt/ --with-mysqli=mysqlnd --enable-soap --enable-mbstring=all --enable-sockets --with-pdo-mysql=mysqlnd --without-pear</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make &amp;&amp; make install</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;4、后续工作</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#生成php.ini，需要先创建php目录下的etc</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mkdir /usr/local/php/etc/</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cp /projects/lamp/php-7.0.7/php.ini-production /usr/local/php/etc/php.ini&nbsp;&nbsp;</span><br/><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#让Apache能解析php文件，而不是直接下载</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#编辑Apache的配置文件，并搜索AddType</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim /usr/local/apache2/etc/httpd.conf</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#在合适位置添加以下代码，注意大小写</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AddType application/x-httpd-php .php .phtml&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AddType application/x-httpd-php-source .phps</span><br/><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#改完配置文件记得重启</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/apache2/bin/apachectl restart</span><br/><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#OK了，赶紧测试一下吧</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim /usr/local/apache2/htdocs/index.php</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;?php phpinfo(); ?&gt;</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://ECS公网IP/index.php</span><br/><br/><br/><span style="color: #b22222; ">### 6、装好之后在使用过程中还可以继续安装PHP的其他扩展，这里用openssl举例</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;1、切换到源码目录</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd /projects/lamp/php-7.0.7/ext/openssl</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;2、配置、编译、安装</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#如有 config.m4 则省略此步骤</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mv config0.m4 config.m4</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/php/bin/phpize&nbsp;</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./configure --with-openssl --with-php-config=/usr/local/php/bin/php-config&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make &amp;&amp; make install</span><br/><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#装好扩展后还需要改php.ini文件</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim /usr/local/php/etc/php.ini</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#搜索extension，并添加一行：</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extension=openssl.so</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#重启服务器并重新查看phpinfo()</span><br/><br/><br/><span style="color: #b22222; ">### 装xdebug&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;#下载xdebug并解压</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;tar -zxvf xdebug-2.5.5.tgz</span><br/><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;#如有 config.m4 则省略此步骤</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;mv config0.m4 config.m4</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/php/bin/phpize&nbsp;</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;./configure --enable-xdebug&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;make &amp;&amp; make install</span><br/><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;#装好扩展后还需要改php.ini文件</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;vim /usr/local/php/etc/php.ini</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;#搜索extension，并添加一行：</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;extension=xdebug.so</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;#重启服务器并重新查看phpinfo()</span><br/><br/><br/><span style="color: #b22222; ">### 不重新编译apache安装扩展模块</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;有的Apache常用模块，需要你在编译的时候指定，否则不会自动帮你安装。比如用于对网页进行gzip压缩的，需要你在编译的时候加上 --enable-deflate，否则你在 httpd.conf 配置文件里面找不到 LoadModule deflate_module modules/mod_deflate.so 选项，就算你强行加上这一句也没用，配置文件会报错。</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;那么接下来就以此为例，说一下如何在不重新编译Apache的情况下，安装这个模块。首先，带大家认识一个工具：</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apxs：apxs是一个为Apache超文本传输协议(HTTP)服务器编译安装扩展模块的工具， 用于编译一个或多个源程序或目标代码文件为动态共享对象， 使之可以用mod_so中的LoadModule指令 在运行时刻加载到Apache服务器中。</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;ok,接下来是具体实现步骤：</span><br/><span style="color: #808080; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;</span>找到源码目录下的mod_deflate.c文件，一般是在这里“源码目录/modules/filters/mod_deflate.c”。进入这个目录“源码目录/modules/filters/”<br/><br/><span style="color: #808080; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;</span>运行下面类似的命令：<br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/apache2/bin/apxs -i -c -a mod_deflate.c</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;注：apxs目录请参照您自己的机器，通常在apache安装目录的bin目录下。</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;搞定，一般安装完成后会在apache安装目录中的modules下生成mod_deflates.so文件，httpd.conf中也会增加“LoadModule deflate_module modules/mod_deflate.so”一行配置。</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;要想确认配置文件是否正确，可以允许一下命令：</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/apache2/bin/httpd -t</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br/><span style="color: #b22222; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#如果提示 Syntax OK，恭喜，安装成功；如果报错，那没办法，继续百度解决去。</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;参考: http://www.sijitao.net/1726.html</span><br/><br/><span style="color: #b22222; ">## 其他</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;卸载 yum 安装的包需要包全名，怎么才能知道包全名呢？</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yum -qa | grep 包名</span><br/><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;然后再执行卸载</span><br/><span style="color: #008000; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yum -e 包全名</span></p>